# Copyright (c) 2020, Oracle and/or its affiliates.
# Licensed under the Universal Permissive License v 1.0 as shown at https://oss.oracle.com/licenses/upl.

[after-jdk-install]

RUN echo "Trimming GraalVM"; \
    rm -rf "$JAVA_HOME/include" \
        "$JAVA_HOME/jmods" \
        "$JAVA_HOME/languages" \
        "$JAVA_HOME/tools" \
        "$JAVA_HOME/lib/svm" \
        "$JAVA_HOME/lib/installer" \
        "$JAVA_HOME/lib/visualvm" \
        "$JAVA_HOME/lib/truffle" \
        "$JAVA_HOME/lib/polyglot"; \
    rm -f "$JAVA_HOME/lib/src.zip" \
        "$JAVA_HOME/lib/libjvmcicompiler.so" \
        "$JAVA_HOME/bin/polyglot"; \
    $JAVA_HOME/bin/java -Xshare:dump
